<div class="contact-page">
  <h1>Contact Us</h1>
  <form id="contact_form" method="post" action="/contact">
    <input type="hidden" name="form_type" value="contact">

    <label for="contact_name">Name:</label>
    <input type="text" id="contact_name" name="contact[name]" required>

    <label for="contact_email">Email:</label>
    <input type="email" id="contact_email" name="contact[email]" required>

    <label for="contact_message">Message:</label>
    <textarea id="contact_message" name="contact[body]" required></textarea>

    <input type="submit" value="Send">
  </form>

  <script>
    document.getElementById('contact_form').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      fetch('/contact', { method: 'POST', body: formData })
        .then(response => {
          if(response.ok) {
            this.innerHTML = '<p>Thank you for contacting us! We will get back to you soon.</p>';
          } else {
            alert('There was an error sending your message. Please try again.');
          }
        })
        .catch(error => {
          console.error('Error:', error);
          alert('There was an error sending your message. Please try again.');
        });
    });
  </script>
</div>
